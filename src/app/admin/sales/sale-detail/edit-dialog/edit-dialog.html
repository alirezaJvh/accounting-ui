<div style="direction: rtl" class="dialog-width">
  <div class="my-2">جزییات خرید</div>
  <div>
    <div class="d-flex flex-row justify-content-between py-2">
      <div>خریدا</div>
      <div>{{obj.customer.name + ' ' + obj.customer.family}}</div>
    </div>

    <div class="d-flex flex-row justify-content-between py-2">
      <div>فروشنده</div>
      <div>{{obj.user.username}}</div>
    </div>

    <div class="d-flex flex-row justify-content-between py-2">
      <div> نام محصول</div>
      <div>{{obj.productSize.product.name}}</div>
    </div>

    <div class="d-flex flex-row justify-content-between py-2">
      <div>سایز</div>
      <div>{{obj.productSize.size.value}}</div>
    </div>

    <div class="d-flex flex-row justify-content-between py-2">
      <div>قیمت محصول</div>
      <div>{{obj.productSize.product.price}}</div>
    </div>

    <div class="d-flex flex-row justify-content-between py-2">
      <div>قیمت محصول × تعداد</div>
      <div>{{obj.productSize.product.price * formGroup.get('amount').value}}</div>
    </div>
  </div>

  <form [formGroup]="formGroup"
        class="d-flex flex-row flex-wrap mt-3">
    <div class="col-12 col-md-6" dir="rtl">
      <mat-form-field class="w-100"
                      appearance="outline">
        <mat-label>تعداد</mat-label>
        <input formControlName="amount"
               matInput
               required
               autocomplete="off"
               placeholder="تعداد "/>
        <mat-error *ngIf="formGroup.get('amount').hasError('required')">
          این فیلد الزامی است
        </mat-error>
      </mat-form-field>
    </div>

    <div class="col-12 col-md-6" dir="rtl">
      <mat-form-field class="w-100"
                      appearance="outline">
        <mat-label>قیمت محصول با تخفیف</mat-label>
        <input formControlName="discountPrice"
               matInput
               required
               autocomplete="off"
               placeholder="قیمت محصول با تخفیف"/>
        <mat-error *ngIf="formGroup.get('discountPrice').hasError('required')">
          این فیلد الزامی است
        </mat-error>
      </mat-form-field>
    </div>
  </form>


  <div class="d-flex flex-row justify-content-between pt-1 pb-2">
    <div>قیمت محصول با تخفیف × تعداد</div>
    <div>{{formGroup.get('discountPrice').value * formGroup.get('amount').value}}</div>
  </div>

  <div class="d-flex flex-row justify-content-between my-2">
    <button mat-button
            style="color: white;background-color: red"
            (click)="onNoClick()">
      <span>بستن</span>
    </button>

    <button mat-button
            style="color: white; background-color: green"
            (click)="changeSale()">
      <span *ngIf="!loading">تغیرات</span>
      <mat-spinner *ngIf="loading"
                   class="mx-auto my-3"
                   [diameter]="40"
                   [strokeWidth]="5">
      </mat-spinner>
    </button>
  </div>
</div>

